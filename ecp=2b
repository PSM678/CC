#include<mqueue.h>
#include<stdio.h>
#include<string.h>
int main(){
    
    mqd_t mq=mq_open("/testmq",O_CREAT|O_RDWR,0644,NULL);
    char msg[]="Hello via message Queue";
    mq_send(mq,msg,strlen(msg)+1,0);
    char buffer[8502];
    mq_receive(mq,buffer,8502,NULL);
    printf("Received:%s\n",buffer);
    mq_close(mq);
    mq_unlink("/testmq");
    return 0;
}

o/p
-----

Received:Hello via message Queue
